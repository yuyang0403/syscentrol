<table id="userList"></table>
<script>
    function formmatDate(value) {
        var date = new Date(value);//long转换成date
        var year = date.getFullYear().toString();
        var month = (date.getMonth() + 1);
        var day = date.getDate().toString();
        if (month < 10) {
            month = "0" + month;
        }
        if (day < 10) {
            day = "0" + day;
        }
        return year + "-" + month + "-" + day + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();
    }

    $("#userList").datagrid({
        url: 'http://localhost:3333/user-manager/user/manager/getUserList?token=' + token,
        border: false,
        pagination: true,
        rownumbers: true,
        fitColumns: true,
        fit: true,
        toolbar: [{
            text: '添加',
            iconCls: 'icon-add',
            handler: function () {
                alert('add')
            }
        }, '-', {
            iconCls: 'icon-edit',
            text: '编辑',
            handler: function () {
                alert('edit')
            }
        }],
        columns: [[
            {field: 'id', checkbox: true},
            {field: 'loginName', title: '登录名'},
            {field: 'truename', title: '真实姓名'},
            {field: 'userType', title: '用户类型'},
            {field: 'email', title: '邮箱'},
            {field: 'nickName', title: '昵称'},
            {field: 'weiboId', title: '微博'},
            {field: 'loginNum', title: '登录次数'},
            {field: 'lastLoginTime', title: '最后一次登录时间', formatter: formmatDate},
            {field: 'status', title: '状态'},
            {field: 'createTime', title: '创建时间', formatter: formmatDate},
            {field: 'createBy', title: '创建人'},
            {field: 'updateTime', title: '修改时间', formatter: formmatDate}
        ]]
    });
</script>

